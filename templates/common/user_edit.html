{% extends "base.html" %}
{% block content %}
<div class="container py-4">
  <h2 class="mb-4">내 정보 수정</h2>

  <!-- 사용자 이름 (읽기 전용) -->
  <div class="mb-3">
    <label class="form-label">사용자 이름</label>
    <input type="text" class="form-control" value="{{ user_profile.username }}" readonly>
  </div>

  <form method="post" autocomplete="off">
    {% csrf_token %}
    {% include "form_errors.html" with form=pw_form %}

    <!-- 현재 비밀번호 -->
    <div class="mb-3">
      <label for="id_old_password" class="form-label">현재 비밀번호</label>
      <input type="password" name="old_password" id="id_old_password"
             class="form-control" required>
    </div>

    <!-- 새 비밀번호 -->
    <div class="mb-3">
      <label for="id_new_password1" class="form-label">새 비밀번호</label>
      <input type="password" name="new_password1" id="id_new_password1"
             class="form-control" required>
    </div>

    <!-- 새 비밀번호 확인 -->
    <div class="mb-3">
      <label for="id_new_password2" class="form-label">새 비밀번호 확인</label>
      <input type="password" name="new_password2" id="id_new_password2"
             class="form-control" required>
    </div>

    <div class="text-end">
      <button type="submit" class="btn btn-primary">비밀번호 저장</button>
    </div>
  </form>
  <div class="text-end mt-4">
    <a href="{% url 'calendar:share_settings' %}" class="btn btn-outline-secondary">
      일정 공유 설정
    </a>
  </div>
</div>
{% endblock %}
